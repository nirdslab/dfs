<?xml version="1.0" encoding="UTF-8" ?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <!-- primitive type - email -->
    <xs:simpleType name="email">
        <xs:restriction base="xs:string">
            <xs:pattern value="[^@]+@[^\.]+\..+" />
        </xs:restriction>
    </xs:simpleType>
    <!-- primitive type - device -->
    <xs:complexType name="device">
        <xs:annotation>
            <xs:documentation>Information about the recording device</xs:documentation>
        </xs:annotation>
        <xs:all minOccurs="1" maxOccurs="1">
            <xs:element name="model" type="xs:string">
                <xs:annotation>
                    <xs:documentation>Device Model</xs:documentation>
                </xs:annotation>
            </xs:element>
            <xs:element name="manufacturer" type="xs:string">
                <xs:annotation>
                    <xs:documentation>Device Manufacturer</xs:documentation>
                </xs:annotation>
            </xs:element>
            <xs:element name="category" type="xs:string">
                <xs:annotation>
                    <xs:documentation>Device Category</xs:documentation>
                </xs:annotation>
            </xs:element>
        </xs:all>
    </xs:complexType>
    <!-- primitive type - streams -->
    <xs:complexType name="streams">
        <xs:annotation>
            <xs:documentation>Collection of information about all data streams</xs:documentation>
        </xs:annotation>
        <xs:sequence minOccurs="1" maxOccurs="unbounded">
            <xs:element name="stream">
                <!-- primitive type - stream -->
                <xs:complexType>
                    <xs:annotation>
                        <xs:documentation>Information about each data stream</xs:documentation>
                    </xs:annotation>
                    <xs:all minOccurs="1" maxOccurs="1">
                        <xs:element name="name" type="xs:string">
                            <xs:annotation>
                                <xs:documentation>Name of data stream</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                        <xs:element name="description" type="xs:string">
                            <xs:annotation>
                                <xs:documentation>Description of data stream</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                        <xs:element name="unit" type="xs:string">
                            <xs:annotation>
                                <xs:documentation>Unit of measurement</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                        <xs:element name="frequency" type="xs:unsignedInt">
                            <xs:annotation>
                                <xs:documentation>Sampling frequency (Hz)</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                        <xs:element name="channel-count" type="xs:unsignedInt">
                            <xs:annotation>
                                <xs:documentation>Number of channels</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                        <xs:element name="channels">
                            <!-- channels definition -->
                            <xs:complexType>
                                <xs:annotation>
                                    <xs:documentation>Information about each channel</xs:documentation>
                                </xs:annotation>
                                <xs:sequence minOccurs="1" maxOccurs="unbounded">
                                    <!-- channel definition -->
                                    <xs:element name="channel" type="xs:string">
                                        <xs:annotation>
                                            <xs:documentation>Name of channel</xs:documentation>
                                        </xs:annotation>
                                    </xs:element>
                                </xs:sequence>
                            </xs:complexType>
                        </xs:element>
                    </xs:all>
                    <xs:attribute name="id" type="xs:ID" use="required">
                        <xs:annotation>
                            <xs:documentation>Stream ID</xs:documentation>
                        </xs:annotation>
                    </xs:attribute>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
    </xs:complexType>
    <!-- primitive type - dataset -->
    <xs:complexType name="dataset">
        <xs:annotation>
            <xs:documentation>Information about the dataset</xs:documentation>
        </xs:annotation>
        <xs:all minOccurs="1" maxOccurs="1">
            <xs:element name="name" type="xs:string">
                <xs:annotation>
                    <xs:documentation>Name of Dataset</xs:documentation>
                </xs:annotation>
            </xs:element>
            <xs:element name="description" type="xs:string">
                <xs:annotation>
                    <xs:documentation>Dataset Description</xs:documentation>
                </xs:annotation>
            </xs:element>
            <xs:element name="keywords">
                <xs:annotation>
                    <xs:documentation>Collection of keywords that describe the dataset</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                    <xs:sequence minOccurs="1" maxOccurs="unbounded">
                        <xs:element name="keyword" type="xs:string">
                            <xs:annotation>
                                <xs:documentation>A keyword</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
            <xs:element name="authors">
                <xs:annotation>
                    <xs:documentation>Collection of authors of the dataset</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                    <xs:sequence minOccurs="1" maxOccurs="unbounded">
                        <xs:element name="author">
                            <xs:annotation>
                                <xs:documentation>Author Information</xs:documentation>
                            </xs:annotation>
                            <xs:complexType>
                                <xs:all minOccurs="1" maxOccurs="1">
                                    <xs:element name="name" type="xs:string">
                                        <xs:annotation>
                                            <xs:documentation>Name of Author</xs:documentation>
                                        </xs:annotation>
                                    </xs:element>
                                    <xs:element name="affiliation" type="xs:string">
                                        <xs:annotation>
                                            <xs:documentation>Author Affiliation</xs:documentation>
                                        </xs:annotation>
                                    </xs:element>
                                    <xs:element name="email" type="email">
                                        <xs:annotation>
                                            <xs:documentation>Author e-mail address</xs:documentation>
                                        </xs:annotation>
                                    </xs:element>
                                </xs:all>
                            </xs:complexType>
                        </xs:element>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
        </xs:all>
    </xs:complexType>
    <!-- primitive type - files -->
    <xs:complexType name="files">
        <xs:annotation>
            <xs:documentation>Collection of information about all files in a dataset</xs:documentation>
        </xs:annotation>
        <xs:sequence minOccurs="1" maxOccurs="unbounded">
            <xs:element name="file">
                <!-- primitive type - file -->
                <xs:complexType>
                    <xs:all minOccurs="1" maxOccurs="1">
                        <xs:element name="description" type="xs:string">
                            <xs:annotation>
                                <xs:documentation>File description</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                        <xs:element name="fields">
                            <xs:annotation>
                                <xs:documentation>IDs of each field in the file</xs:documentation>
                            </xs:annotation>
                            <xs:complexType>
                                <xs:sequence minOccurs="1" maxOccurs="unbounded">
                                    <xs:element name="field" type="xs:IDREF">
                                        <xs:annotation>
                                            <xs:documentation>Field ID</xs:documentation>
                                        </xs:annotation>
                                    </xs:element>
                                </xs:sequence>
                            </xs:complexType>
                        </xs:element>
                    </xs:all>
                    <xs:attribute name="id" type="xs:ID" use="required">
                        <xs:annotation>
                            <xs:documentation>Unique identifier for the file</xs:documentation>
                        </xs:annotation>
                    </xs:attribute>
                    <xs:attribute name="path" type="xs:anyURI">
                        <xs:annotation>
                            <xs:documentation>Path where the file is located</xs:documentation>
                        </xs:annotation>
                    </xs:attribute>
                    <xs:attribute name="encoding" type="xs:string">
                        <xs:annotation>
                            <xs:documentation>File format</xs:documentation>
                        </xs:annotation>
                    </xs:attribute>
                    <xs:attribute name="checksum" type="xs:hexBinary">
                        <xs:annotation>
                            <xs:documentation>MD5 Checksum of file</xs:documentation>
                        </xs:annotation>
                    </xs:attribute>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
    </xs:complexType>
    <!-- primitive type - fields -->
    <xs:complexType name="fields">
        <xs:sequence minOccurs="1" maxOccurs="unbounded">
            <xs:element name="field">
                <xs:annotation>
                    <xs:documentation>Information of the Field</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                    <xs:all minOccurs="1" maxOccurs="1">
                        <xs:element name="name" type="xs:string">
                            <xs:annotation>
                                <xs:documentation>Name of the field</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                        <xs:element name="description" type="xs:string">
                            <xs:annotation>
                                <xs:documentation>Description of the field</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                    </xs:all>
                    <xs:attribute name="id" type="xs:ID" use="required">
                        <xs:annotation>
                            <xs:documentation>ID of the field</xs:documentation>
                        </xs:annotation>
                    </xs:attribute>
                    <xs:attribute name="dtype" type="xs:string" use="required">
                        <xs:annotation>
                            <xs:documentation>Data type of field</xs:documentation>
                        </xs:annotation>
                    </xs:attribute>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
    </xs:complexType>
    <!-- primitive type - links -->
    <xs:complexType name="links">
        <xs:sequence>
            <xs:element name="link">
                <xs:complexType>
                    <xs:sequence minOccurs="1" maxOccurs="unbounded">
                        <xs:element name="field" type="xs:IDREF">
                            <xs:annotation>
                                <xs:documentation>ID of linked field</xs:documentation>
                            </xs:annotation>
                        </xs:element>
                    </xs:sequence>
                    <xs:attribute name="type" type="xs:string" use="required">
                        <xs:annotation>
                            <xs:documentation>Type of link</xs:documentation>
                        </xs:annotation>
                    </xs:attribute>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
    </xs:complexType>
</xs:schema>